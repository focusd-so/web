name = "focusd-auth"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Development settings
[dev]
port = 8787

# KV Namespace bindings
[[kv_namespaces]]
binding = "CLASSIFICATION_CACHE"
id = "CLASSIFICATION_CACHE_DEV"
preview_id = "CLASSIFICATION_CACHE_DEV"

# Environment variables (non-secret)
[vars]
ALLOWED_ORIGINS = "http://localhost:3000,https://focusd.so"
PROMPT_DESKTOP = "Classify this application based on its title, bundle ID, and app name. Provide a JSON output with 'category' (e.g., 'Productivity', 'Social', 'Gaming'), 'tags' (array of strings), and 'description'. If you cannot classify, use 'Unknown'."
PROMPT_WEBSITE = "Classify this website based on its URL, title, and description. Provide a JSON output with 'category' (e.g., 'News', 'E-commerce', 'Blog'), 'tags' (array of strings), and 'description'. If you cannot classify, use 'Unknown'."

# Production environment
[env.production]
name = "focusd-auth-production"

[[env.production.kv_namespaces]]
binding = "CLASSIFICATION_CACHE"
id = "CLASSIFICATION_CACHE_PROD"

# Note: Secrets must be set via wrangler CLI:
# wrangler secret put CLERK_SECRET_KEY
# wrangler secret put JWT_SECRET
# wrangler secret put GOOGLE_API_KEY
# 
# Note: Create KV namespaces via wrangler CLI:
# wrangler kv:namespace create CLASSIFICATION_CACHE
# wrangler kv:namespace create CLASSIFICATION_CACHE --env production


